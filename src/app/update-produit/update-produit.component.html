<app-dashboard></app-dashboard>

 
  <div class="container tab card shadow mb-4 tab" style= "margin-left:20%;">
    <form [formGroup]="this.produitService.dataForm" (ngSubmit)="onSubmit()">
      <h5 class="text-center mt-1">Liste des produits</h5>

      <div class="form-check form-switch">
        <input class="form-check-input" formControlName="enabled" type="checkbox" id="flexSwitchCheckDefault" >
        <label class="form-check-label" for="flexSwitchCheckDefault">Activé</label>
      </div>


          <div>
            <label for="nomProduit">
                libelle Produit
            </label>
            <input id="nomProduit" type="text" formControlName="nomProduit">
          </div>

          <div>
            <label for="prixProduit">
                Prix Produit
            </label>
            <input id="prixProduit" type="number" formControlName="prixProduit">
          </div>

          <div>
            <label for="dateCreation">
                Date creation Produit
            </label>
            <input id="dateCreation" type="date" formControlName="dateCreation">
          </div>



         

          <div>
              <label>Categorie</label>
              <select  id="categorie_id" formControlName="categorie_id">
                  <option *ngFor="let c of categories" [value]="c.id">
                      {{c.nomCategorie}}
                  </option>
              </select>
          </div>

          <div class="form-group" style="width:47%; margin:auto;"> 
            
            <select class="form-control"  (change)="onSelect($event)">
              <option value="0">Marque</option>
              <option *ngFor="let m of marques" [value]="m.id">{{m.libelleMarque}}</option>
            </select>
      </div>

      
        <div class="drop-container">
        
              <ng-multiselect-dropdown formControlName="modeles"
            [placeholder]="''"
            [settings]="dropdownSettings"
            [data]="modeles"
            (onSelect)="onItemSelect($event)"
            >
            </ng-multiselect-dropdown>
         
            
          </div>

          
            <div class="form-group" style="width:47%; margin:auto;"> 
             
                <select class="form-control mb-1 inputFiltre text-center" formControlName="carburant">
                  <option value="">Carburant</option>
                  <option value="Essence">Essence</option>
                  <option value="Diesel">Diesel</option>
                  <option value="GPL">GPL</option>
                  <option value="Tout">tout</option>
                </select>
          </div> 

          <div class="form-group" style="width:47% ;margin:auto;">
            <select  class="form-control mb-1 inputFiltre text-center" formControlName="annee">
              <option value="0">Année</option>
              <option value="1990">1990</option>
              <option value="1991">1991</option>
              <option value="1992">1992</option>
              <option value="1993">1993</option>
              <option value="1994">1994</option>
              <option value="1995">1995</option>
              <option value="1996">1996</option>
              <option value="1997">1997</option>
              <option value="1998">1998</option>
              <option value="1999">1999</option>
              <option value="2000">2000</option>
              <option value="2001">2001</option>
              <option value="2002">2002</option>
              <option value="2003">2003</option>
              <option value="2004">2004</option>
              <option value="2005">2005</option>
              <option value="2006">2006</option>
              <option value="2007">2007</option>
              <option value="2008">2008</option>
              <option value="2009">2009</option>
              <option value="2010">2010</option>
              <option value="2011">2011</option>
              <option value="2012">2012</option>
              <option value="2013">2013</option>
              <option value="2014">2014</option>
              <option value="2015">2015</option>
              <option value="2016">2016</option>
              <option value="2017">2017</option>
              <option value="2018">2018</option>
              <option value="2019">2019</option>
              <option value="2020">2020</option>
              <option value="2021">2021</option>
              <option value="2022">2022</option>
            </select>
          </div>
         
            <div class="form-group" style="width:47%; margin:auto;"> 
              <!-- <label>Gouvernorat :</label>  -->
                <select class="custom-select custom-select-sm" (change)="onSelectGov($event)">
                  <option value="0">Gouvernorat</option>
                  <option *ngFor="let g of gouvernorats" [value]="g.id">{{g.libelle}}</option>
                </select>
          </div> 
      
          <div class="form-group" style="width:47%; margin:auto;"> 
            <!-- <label>Delegation :</label>  -->
              <select class="custom-select custom-select-sm" [ngModel]="selectedDelegation.id" formControlName="delegation_id">
                <option value="0">Délégation</option>
                <option *ngFor="let d of delegations" [value]="d.id">{{d.libelle}}</option>
              </select>
        </div>

          <div class="form-group" style="width:90%; margin:auto;">
            <label for="exampleFormControlTextarea1">Description:</label>
            <textarea
             class="form-control" 
             formControlName="description"
              id="exampleFormControlTextarea1"
               rows="5"
               placeholder="Type de moteur, Année, Killométrage, spécification..."
               ></textarea>
          </div>
    



          <div class="form-group">
            <label>Uploader Une image</label>
                <input type="file" accept="image/*" (change)="onSelectFile($event)">
                <img [src]="imgURL" height="200" *ngIf="imgURL">
        </div>


          <button class="button" type="submit">Ajouter</button>
          <button class="button" routerLink="/produits">retour</button>
    </form>
</div>
   

